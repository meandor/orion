plugins {
    id 'scala'
}

def scalaVersion = "2.11"

group = "com.github.meandor"
version = "0.1.0"

dependencies {
    compile 'org.scala-lang:scala-library:2.11.12'
    compile "org.apache.spark:spark-mllib_$scalaVersion:2.3.1"

    testCompile "org.scalatest:scalatest_$scalaVersion:3.0.4"
}

repositories {
    jcenter()
}

jar {
    zip64 true

    manifest {
        attributes "Main-Class": 'com.github.meandor.orion.Orion'
    }

    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
        configurations.runtime.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
}
